<!DOCTYPE HTML>
<html lang="en-US">
    <head>
        <title>Data Engineering Demo</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="description" content="Ecclesia's Portfolio Website" />
        <meta name="keywords" content="HTML, CSS, JavaScript, PHP" />
        <meta name="author" content="CocoBasic & Ecclesia Morain" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <link rel="shortcut icon" href="images/logo_initials.png" />    
        <link href='http://fonts.googleapis.com/css?family=Poppins:100,200,300,400,400i,500,600,700%7CMontserrat:700' rel='stylesheet' type='text/css'>		
        <link rel="stylesheet" type="text/css"  href='style.css' />

        <!--[if lt IE 9]>
                <script src="js/html5shiv.js"></script>            
                <script src="js/respond.min.js"></script>                   
        <![endif]-->         
    </head>

    <body>

        <div class="site-wrapper">   

            <div class="doc-loader">
                <img src="images/preloader.gif" alt="Cardea">
            </div>       


            <header class="header-holder">             
                <div class="menu-wrapper center-relative relative">             
                    <div class="header-logo">
                        <a href="index.html">
                            <img src="images/logo_initials.png" alt="Cardea">
                        </a>               
                    </div>

                    <div class="toggle-holder">
                        <div id="toggle" class="">
                            <div class="first-menu-line"></div>
                            <div class="second-menu-line"></div>
                            <div class="third-menu-line"></div>
                        </div>
                    </div>

                    <div class="menu-holder">
                        <nav id="header-main-menu">
                            <ul class="main-menu sm sm-clean">
                                <li>
                                    <a href="./index.html">Home</a>
                                </li>
                               
                                <li>
                                    <a href="./index.html#services">Portfolio</a>
                                </li>
                               
                                <li>
                                    <a href="./index.html#about">About</a>
                                </li>
                                           
                            </ul>
                        </nav>                       
                    </div>
                    <div class="clear" style="height: 5vw;"></div>
   
                </div>
            </header>                        



            <div id="content" class="site-content center-relative">        
                <div class="portfolio-item-wrapper center-relative">
                    <div class="portfolio-content">
                        <h2 class="entry-title">
                            ETL minus the 'L' Demo 
                        </h2>
                        <div class="skill-text" style="text-align: center; font-size: medium;">A light demonstration importing, cleaning, transforming, and analyzing college dataets to produce meaningful data and figures </div>
                        <h1></h1>
                        <!-- <div class="one_half"> -->
                            <script>
                                var textSlider1_speed = "2000";
                                var textSlider1_auto = "true";
                                var textSlider1_hover = "true";
                            </script>
                            <div class="text-slider-wrapper relative">
                                <!-- <div class="text-slider-header-quotes"></div> -->

                                <div id="textSlider2" class="text-slider slider owl-carousel owl-theme">

                                    <div class="text-slide">
                                        <p class="text-slide-content">
                                            <img  src="images/Data Eng Diagrams/portfolio_banner_photos_1.png" alt="" />
                                        </p>
                                        <!-- <p class="text-slide-name">Peter Hall</p>
                                        <p class="text-slide-position">CEO</p>                                             -->
                                    </div>   

                                    <div class="text-slide">
                                        <p class="text-slide-content">
                                            <img  src="images/Data Eng Diagrams/portfolio_banner_photos_2.png" alt="" />
                                        </p>                                        
                                    </div>   

                                    <!-- </div> -->
                                    <div class="text-slide">
                                        <p class="text-slide-content">
                                            <img  src="images/Data Eng Diagrams/portfolio_banner_photos_3.png" alt="" />
                                        </p>                                          
                                    </div>                                                           
                                    <div class="text-slide">
                                        <p class="text-slide-content">
                                            <img  src="images/Data Eng Diagrams/portfolio_banner_photos_4.png" alt="" />
                                        </p>                                          
                                    </div>                                                           

                        <div class="clear" style="height: 5vw;"></div>

                    </div>  

                    <div style="line-height:75%; width: 80%; padding-left: 7vw;">
                        <div class="two_third portfolio-txt" >
                            Dev Tools: 
                            <ul>
                                <li> Databricks Community version</li>
                                <li> Pyspark</li>
                                <li> College data csv files</li>
                            </ul>
                        </div>

                        <div class="one_third last " style="font-size: medium;">
                            <p>
                                <strong>Project Name</strong><br>
                                TBD
                            </p>
                            <p>
                                <strong>Year</strong><br>
                                2023
                            </p>
                        </div>
                    </div>
                    
                </div>
            </div>

            
            <div class="clear" style="height: 5vw;"></div>

            <!-- <div id="content" class="site-content center-relative" style="width: 100%;">         -->
                <!-- <div class="portfolio-item-wrapper center-relative">
                    <div class="portfolio-content"> -->
                        <!-- <div class="info-text" style="margin-bottom: 10px;"> Challenges Encountered:</div>
                            <ul class="readable-size-small" style="margin-bottom: 75px;">
                                <li>Personal Life Demands
                                    <ul>
                                        <li>Sewage flood, followed by a family emergency that took several days to resolve</li>
                                    </ul>
                                </li>
                                  
                                <li>
                                    Limited Scope of Experience
                                    <ul>
                                        <li> Beyond informal data validation using sample data, I have little experience formally and rigorously testing data transformations or ETL pipelines. 
                                            Personally, I value writing the tests alongside the code so that the tests can grow with code base. I don't know how to do this cleanly in Databricks. 
                                            All of my tests are difficult to follow because they're integrated in the code solution, so I commented and moved them. 
                                            I've heard of Gherkin for testing Pyspark transformations 
                                        </li>
                                        <li>  
                                            For this project I studied window functions here: https://www.windowfunctions.com/
                                        </li>
                                    </ul>
                                </li>

                                <li> Lack of Direction- Uncertain whether desired outcome leaned more towards Data Eng or Data Analysis. 
                                    This could lead to focusing too much on things that are irrelvant, misinterpreting problem, confusion leading to decision paralysis. 
                                    <ol type="A">
                                        <li> Assuming that the term “trends” directly implied that the data had to be something measured over time.</li>
                                        <li> Found massive, public data. Massive data set. (<span> <a target="_blank" href="https://collegescorecard.ed.gov/data/"> https://collegescorecard.ed.gov/data/ </a></span>)</li>
                                    </ol>
                                </li>
                                
                                    - Identifying what I don’t know. 
                                    (A3) Time was lost trying to track down the time period. However, it pointed me in the direction of statistics. Learned that trend does not always mean “over a time period”
                                    (A3) I was hung up on identifying which time period mapped to the college datasets.
                                    (B) Consulted stakeholder and Revisited the problem statement. Landed on disregarding the specific date and instead using a combined score to give an overall sense of rank. However, how do we combine the university ranks that we have. 
                                    Additionally, the universities have different amounts of ranks. Some of 4 years worth others have 1 year.
                                <div>
                                    <p class="info-text" style="margin-bottom: 10px; margin-top: 25px;"> Why Is This Important: </p>
                                    <ul class="readable-size-small">
                                        <li> 'trends' doesn't exclusively mean over time</li>
                                        <li> The power of iterative development</li>
                                        <li> I am driven my improvemnt, my hobbies reflect that. -> The opportunity to Master my field, to bring immeasurable value, excites me about this role. </li>
                                        <li> I learned that I love Data Engineering.</li>
                                    </ul>
                                </div>
                            </ul>
                        </div> -->

                        



                        <!-- <h1 class="info-text" style="margin-bottom: 0px;">Data Deliverables:</h1>

                        
                        <p class="info-text" style="font-size: large;">
                           <a target="_blank" href="./images/Data Eng Diagrams/College_Admissions_Data_Processing Notebook_CLEAN.html"> 
                            >> Databricks Notebook << </a> 
                        </p> -->

                        
                        
                        
                        
                        <!-- TASK 1 -->
                        <!-- <p class="info-text" style="margin-bottom: 10px; font-size: large;"> 
                            <span style="font-weight: bold;"> Task 1 </span> - Design a data flow providing the trends of 
                            university by their global ranking and number of applicants vs admissions 
                        </p> -->
                        
                        <div class="clear" style="height: 2vw;"></div>
                        <div>
                            <div class="one_half">
                                <p class="info-text" style="margin-bottom: 10px; font-size: large;"> 
                                    <span style="font-weight: bold;"> DATA FLOW (In Theory): </span> 
                                    <ol class="readable-size-small">
                                        <li> STEP 1: Remove irrelevant data (implementing schema outlining columns, keys, constraints)</li>
                                        <li> STEP 2: Check For & Remove Duplicates</li>
                                        <li> STEP 3: Clean Data/Check for nulls</li>
                                        <li> STEP 4: Check For Missing Data </li>
                                        <li> STEP 5: Craft Solution </li>
                                        <li> STEP 6: Validate Data </li>
                                    </ol> 
                                </p>
                            </div>
                            
                            <div class="one_half last">
                                <p class="info-text" style="margin-bottom: 10px; font-size: large;"> 
                                    <span style="font-weight: bold;"> DATA FLOW (In Practice): </span> 
                                    <ol class="readable-size-small">
                                        <li> STEP 1: Remove irrelevant data (implementing schema outlining columns, keys, constraints)
                                        <li> STEP 2: Check For & Remove Duplicates</li>
                                        <li> STEP 3: Clean Data/Check for nulls</li>
                                        <li> STEP 4: Check For Missing Data </li>
                                        <li> STEP 5: Craft Solution. </li>
                                        <li> STEP 6: Validate Data. *Return to Step 2.* </li>
                                    </ol> 
                                </p>
                            </div>
                        </div>
                        <!-- <img src="images/Data Eng Diagrams/yearly_ranking_standard_deviation_avgs.png" alt="">
                        <img src="images/Data Eng Diagrams/global_rank_v_admissions_graph.png" alt="">
                        <div style="font-size: medium;"> 
                            
                            <p>
                                This problem revealed just how much data existed that wasn't recorded that would have allowed me to devlop more robust and consistent analytics.
                            </p>
                            <ul>
                                <li>
                                   The <span style="font-style: italic;"> Universities Data.csv </span> and <span style="font-style: italic;"> Universities_Global_Ranking.csv </span> have a plethora of information regarding global rank and other statistical data
                                    for over 1000 universities over the course of years...but some years don't have records for schools recorded in other years, and when combined
                                    the two files have mismatching data.  
                                    <a target="_blank" href="./images/Data Eng Diagrams/Tables and Graphs/Data Consistency Check_world_ranking_data.html"> 
                                        >> Data Consistency Check_world_ranking_data.html << </a>
                                </li>
                                 
                                <li>
                                    <span style="font-style: italic;"> College_Admissions.csv </span> and <span style="font-style: italic;"> College_data.csv </span> have even more 
                                    data about North American colleges. <span style="font-style: italic;"> College_Admissions.csv </span> even includes a breakdown of data for different demographics including, 
                                    SAT score groups, ethnic minorities, and campus prerequisites, but without any indication of the date/time the records belong to, it limited a lot of options on what coould be done with the data.
                                </li>
                                
                            </ul>
                            
                            <p>
                                Regardless, there is still plenty of meaning to be gleaned from these datasets.
                                To answer this problem I split the csv files into 2 datasets: <span style="font-style: italic;"> Universities Data.csv </span> and <span style="font-style: italic;"> Universities_Global_Ranking.csv </span> that provides gobal rank data, and 
                                <span style="font-style: italic;"> College_Admissions.csv </span> and <span style="font-style: italic;"> College_data.csv </span> to provide college-specific applicant and admissions data. 
                            </p>

                            <ol>
                                    <li>
                                        I used the data from <span style="font-style: italic;"> College_Admissions.csv </span> to provide the <span style="font-weight: bold;">  admissions and applicantions information </span>  for every college it had documented. 
                                        Thankfully there weren't duplicates so this step is simple.
                                    </li>
                                    <li>
                                        I then developed a scoring system that would assign every college having a world rank in <span style="font-style: italic;"> Universities Data.csv </span> a singular score by stimply taking the average of every score available no matter the year.
                                        This would mean that certain colleges may have the same score, but I don't think that changes the meaning of the information we're working towards. This also means that some colleges will have more ranks contributing to it's final score.
                                        I calculated the standard deviation in all known world rankings for each college to include with the final product to provide context to the credibility of the final ranking outcome. 
                                        <a target="_blank" href="./images/Data Eng Diagrams/Tables and Graphs/Standard Deviation Rankings Over Each Yr.html"> 
                                            >> Standard Deviation Rankings Over Each Yr.html << </a>
                                    </li>
                                    <li>
                                        I tested this scoring system on a smaller subset of the data from this file and once that was validated 
                                        I combined the 2 datasets and visualized the comparative details regarding, world rank, number of applicants, and the number of admissions 
                                        <a target="_blank" href="./images/Data Eng Diagrams/Tables and Graphs/Applicants v Admissions by Global Rankings.html"> 
                                            >> Applicants v Admissions by Global Rankings.html << </a>
                                    </li>
                            </ol>

                        </div>

                        <div class="clear" style="height: 5vw;"></div>

                        <!- TASK 2
                        <div style="font-size: medium;">
                            <p class="info-text" style="margin-bottom: 10px; font-size: large;"> 
                                <span style="font-weight: bold;"> Task 2 </span> - Provide the trends data set for the top 1000 universities. 
                            </p>
                                <img src="images/Data Eng Diagrams/Cummulative_global_rank_v_admissions_table.png" alt="">
                            <div>
                                
                                Although we have over 1000 world ranks available when combining <span style="font-style: italic;"> Universities Data.csv </span> and <span style="font-style: italic;"> Universities_Global_Ranking.csv </span> , 
                                we only have a little over 200 hundred colleges that we have the applicant and admission data for that exist in both datasets.
                                It was at this point that I realized how small the dataset was so I attempted to merge all of the csv files into one massive dataset. 
                                I performed the same rank score as above, and due to the discrepancy in the world rank datasets some colleges have different values.
                                I did not generate a graph for this dataset because the credibility of the data isn't reliable.
    
                            </div>
    
                            <div class="clear" style="height: 5vw;"></div>
                        </div>

                        <!- TASK 3 ->
                        <div style="font-size: medium;">
                            <p class="info-text" style="margin-bottom: 10px; font-size: large;"> 
                                <span style="font-weight: bold;"> Task 3 </span> - Provide the trends by state with respect 
                                to the number of applicants vs admissions per year
                            </p>
                                <img src="images/Data Eng Diagrams/State_scope_stats.png" alt="">
                            <div>
                                Since all of my data had been confirmed to be cleaned and assesed after the last tasks, this task was very straightforward. 
                                Using the tables I grouped the data by state, calculated the avergae world rank using the "average world rank column" 
                                and stored the table as a parquet file exported this graph. 
                                There are fewer entries here due to some null values for one of the states, Alabama I believe it was. SO not every state is accoutned for.
                                <a target="_blank" href="./images/Data Eng Diagrams/Tables and Graphs/State-Scope Statistics.html"> 
                                    >> State-Scope Statistics.html << </a>
                            </div>
                        </div>

                        <div class="clear" style="height: 5vw;"></div> 
 -->
                        <!-- TASK 4 -->
                        <p class="info-text" style="margin-bottom: 10px; font-size: large;"> 
                            <span style="font-weight: bold;"> Task MISC </span> - Handling Exceptions & Validating Input
                        </p>
                        <div>
                            <p class="entry-title" style="font-size: medium;"> How to handle exceptions </p>
                            <ul>
                                <li>
                                    (predictive) try-catch
                                </li>
                                <li>
                                    (in-time)Logs - my crutch. The holy grail.
                                </li>
                            </ul>
                            
                            My original intention was to start this assignment doing TDD, run unit tests on all of my functions, and practice writing clean and cohesive code. 
                            The context of this assignment (and maybe personal ignorance on resources that are available) didn't really allow me to do TDD and test my code to perfection. 
                            Regardless, I was still able to acoomplish some degree of testing synchronously while building my code, in an informal way.
                            The generic util functions that I developed were informally tested (not with unit tests) with sample data included in the databricks notebook that has hundreds of lines of commented code.
                            Using logs I was able to keep track of how my data looked as I operated on it. The "logs" were just good ole' reliable print statements.
                            
                            <p class="entry-title" style="margin-top:20px; font-size: medium;"> How to validate input when ingesting data </p>
                            <ul>
                                <li>
                                    Perform <span style="text-decoration: underline;"> syntactical validations </span> by imposing a schema, type conversions, imposing other syntactic constraints like data ranges
                                </li>
                                <li>
                                    Perform <span style="text-decoration: underline;"> semantic validation </span> by having list of legal values, to impose constraints.
                                </li>
                            </ul>
                            
                        </div>

 
                        <!-- Incremental Loading -->
                <div class="clear" style="height: 5vw;"></div>                
                <div class="info-text" style="margin-bottom: 10px;"> Incremental Loading and Late Arrival</div>
                <p class="entry-title" style="font-size: large;">Why Incremental Data Loading? </p>
                        <ul>
                            <li>
                                Businesses often have massive warehouses of data that they use to maintain historical data and power data analytics.
                            </li>
                            <li>
                                An ETL pipeline is a set of processes that extract data from one system, 
                                transform it according to a given quality standard, and load it into a target repository. 
                                So what efficiencies come into play in such a seemingly simple process?
                            </li>
                            <li>
                                Full Loads are straightforward and easy to implement. Gets the job done.
                            </li>
                            <li>
                                As data grows in size, time becomes an increasingly scarce/precious resource. Full Loads lose effectiveness.
                            </li>
                            <li>
                                Incremental data loading is an implementation concept that addresses the need to not just move data 
                                from source to sink but how to load data efficiently and accurately. 
                            </li>
                        </ul>
                <p class="entry-title" style="font-size: large;">How is Incremental Data Loading Comparatively Efficient? </p>
                <ul>
                    <li>
                        Incremental loads only process a subset of rows
                    </li>
                    
                    <li>
                        Incremental load can be thought of us following this flow (1)identifying new or updated data (2) optionally archiving the downstream datastore (3) inserting the new data 
                    </li>
                    <li>
                        Incremental Loading: (CONS) - Incremental processing introduces complexity. 
                        It requires data processing or even preprocessing. [ex. Reformatting schema to include timestamps]
                        
                    </li>
                </ul>

                <p class="entry-title" style="font-size: large;">Methodologies </p>
                
                <ul>
                        <li>
                            Nuances must be addressed like:
                                <ul>
                                    <li>
                                        the src data having deletions that need to be deleted downstream, 
                                    </li>
                                    <li>
                                        how to identify new/updated data, 
                                    </li>
                                    <li>
                                        how to validate that the target datastore has been accurately loaded
                                    </li>
                                </ul>
                            </li>

                            <li>
                            Incremental Load Patterns:
                            <ul>
                                <li>
                                    Source Change Detection (Not SCD{2} slowly changing dimension type 2 :( )) 
                                    <ul>
                                        <li>
                                                created & modified timestamps
                                            </li>
                                            <li>
                                                Not supported by every datastore system
                                            </li>
                                        </ul>
                                </li>
                                <li>
                                    Destination Change Comparison:
                                    <ul>
                                        <li>
                                            compare src data to existing to identify new or modified rows - almost as taxing as full load, still O(n) reads
                                        </li>
                                    </ul>
                                </li>
                                
                            </ul>
                        </li>
                        <li>
                            <span style="font-weight: bold;"> For this specific data </span> I would need to delineate the schema/data model for every table so that every record can have an identifier. Be it singular or combined columns.
                            <img src="images/Data Eng Diagrams/incremental_load_procedure.png" alt="Procedure for performing incremental loads">
                        </li>
                    </ul>
                    
                    <p class="entry-title" style="font-size: large;">How to Handle Late Arrival Data? </p>
                    <ul>
                        <li>
                            Late Arrival Data can occur for a number of reasons (internet-based events on a local machine during a period without internet, system slows, etc )
                        </li>
                        <li>
                            Does timing matter for your system? (billing cycles, or real-time data updates, business data metrics)
                        </li>
                        <li>
                          Project-specific constraints will determine how this is handled.
                        </li>
                        
                        <img src="images/Data Eng Diagrams/late_arrival_procedure.png" alt="procedure for handling late arrival data">
                        * Have a threshold for the amount of data missing you will accept and still process
                    </ul>
                    
                    
                    
                
                <!-- Conclusion -->
                <div class="clear" style="height: 5vw;"></div>
                <div class="info-text" style="margin-bottom: 10px;"> Conclusion</div>
                <p> There are many concepts that I know of in theory but not by practice. Many of these practices can't be intuited over the short lifespan of the projects I work as a consultant. 
                    I am looking forward to an opportunity to refine an intuitive sense for developing data models and systems that grow with scope as new sources are added, as business rules evolve,
                     and societal frameworks change, over the course of years, to become a master at a craft.
                </p>

                       
                    <!-- </div>                        
                </div> -->
            </div>

            <!-- Footer -->
            <footer class="footer">
                <div class="footer-content center-relative">
                    <div class="footer-mail">
                        <a href="mailto:emorain@live.com">emorain@live.com</a>
                    </div>
                  

                    <div class="footer-info"> 
                        Atlanta, Ga <br> 
                        United States
                    </div>

                    <div class="social-holder"> 
                        <a href="https://linkedin.com/in/ecclesiamorain" target="_blank"
                            onclick="window.open('https://linkedin.com/in/ecclesiamorain')" 
                            title="My LinkedIn Profile">

                            <span class="fa fa-linkedin"></span>
                        </a>
                        <a href="https://github.com/emorain3" target="_blank" 
                            onclick="window.open('https://github.com/emorain3')" 
                            title="checkout my github projects">
                            <span class="fa fa-github-alt"></span>
                        </a>
                        <a href="https://www.webnovel.com/book/13912232706293905" target="_blank" 
                            onclick="window.open('https://www.webnovel.com/profile/4305213220')"
                            title="I like writing. Fiction Intros... ">
                            <span class="fa fa-book"></span>
                        </a>
                        <!-- <a href="#">
                            <span class="fa fa-behance"></span>
                        </a>
                        <a href="#">
                            <span class="fa fa-dribbble"></span>
                        </a> -->
                    </div>

                    <!-- <div class="copyright-holder"> 
                        © 2018 Cardea HTML Template by <a href="http://cocobasic.com">CocoBasic</a>
                    </div> -->
                </div>
            </footer>
        </div>

        <!--Load JavaScript-->
        <script src="js/jquery.js"></script>			                                       
        <script src="js/jquery.sticky.js"></script>			                                       
        <script src='js/imagesloaded.pkgd.js'></script>                
        <script src='js/jquery.fitvids.js'></script>                
        <script src='js/jquery.smartmenus.min.js'></script>                                 
        <script src='js/isotope.pkgd.js'></script>                                 
        <script src='js/jquery.easing.1.3.js'></script>                                                       
        <script src='js/jquery.prettyPhoto.js'></script>                                                         
        <script src='js/owl.carousel.min.js'></script>                          
        <script src='js/jquery.sticky-kit.min.js'></script>                          
        <script src='js/main.js'></script>
    </body>
</html>